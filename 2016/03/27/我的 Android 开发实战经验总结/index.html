<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>我的 Android 开发实战经验总结 | 技术视界</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="以前一直想写一篇总结 Android 开发经验的文章，估计当时的我还达不到某种水平，所以思路跟不上，下笔又捉襟见肘。近日，思路较为明朗，于是重新操起键盘开始码字一番。先声明一下哈，本人不是大厂的程序猿。去年毕业前，就一直在当前创业小团队从事自己热爱的打码事业至今。下面总结是建立在我当前的技术水平和认知上写的，如有不同看法欢迎留下评论互相交流。">
<meta property="og:type" content="article">
<meta property="og:title" content="我的 Android 开发实战经验总结">
<meta property="og:url" content="http://blog.coderclock.com/2016/03/27/我的 Android 开发实战经验总结/index.html">
<meta property="og:site_name" content="技术视界">
<meta property="og:description" content="以前一直想写一篇总结 Android 开发经验的文章，估计当时的我还达不到某种水平，所以思路跟不上，下笔又捉襟见肘。近日，思路较为明朗，于是重新操起键盘开始码字一番。先声明一下哈，本人不是大厂的程序猿。去年毕业前，就一直在当前创业小团队从事自己热爱的打码事业至今。下面总结是建立在我当前的技术水平和认知上写的，如有不同看法欢迎留下评论互相交流。">
<meta property="og:image" content="https://diycode.b0.upaiyun.com/photo/2017/2d544d9da3c559059c77cc582ea80368.png">
<meta property="og:image" content="https://diycode.b0.upaiyun.com/photo/2017/8dc12d016ca477e99d3f953acb22017f.png">
<meta property="og:image" content="https://diycode.b0.upaiyun.com/photo/2017/c8b3337006df760a175639bf78eaf971.png">
<meta property="og:image" content="https://diycode.b0.upaiyun.com/photo/2017/f0145c8fcf17c215e684eba260503ee8.png">
<meta property="og:image" content="https://diycode.b0.upaiyun.com/photo/2017/535eb7e70d645460beffd595ae310079.png">
<meta property="og:updated_time" content="2017-02-21T16:19:29.551Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我的 Android 开发实战经验总结">
<meta name="twitter:description" content="以前一直想写一篇总结 Android 开发经验的文章，估计当时的我还达不到某种水平，所以思路跟不上，下笔又捉襟见肘。近日，思路较为明朗，于是重新操起键盘开始码字一番。先声明一下哈，本人不是大厂的程序猿。去年毕业前，就一直在当前创业小团队从事自己热爱的打码事业至今。下面总结是建立在我当前的技术水平和认知上写的，如有不同看法欢迎留下评论互相交流。">
<meta name="twitter:image" content="https://diycode.b0.upaiyun.com/photo/2017/2d544d9da3c559059c77cc582ea80368.png">
  
    <link rel="alternate" href="/atom.xml" title="技术视界" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  	ga('create', 'UA-91393761-2', 'auto');
  	ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
	<!-- 百度统计 -->
	<script type="text/javascript">
		var _hmt = _hmt || [];
		(function() {
 			var hm = document.createElement("script");
  			hm.src = "https://hm.baidu.com/hm.js?9e8a7a9cb9edac601fdb29f1394bc51e";
			var s = document.getElementsByTagName("script")[0]; 
  			s.parentNode.insertBefore(hm, s);
		})();
	</script>

  
	<!-- CNZZ统计 -->
	<script type="text/javascript">
		var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
		document.write(unescape("%3Cspan id='cnzz_stat_icon_1261297942'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1261297942%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));
	</script>

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.coderclock.com"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">技术视界</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-我的 Android 开发实战经验总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/27/我的 Android 开发实战经验总结/" class="article-date">
  <time datetime="2016-03-26T16:00:00.000Z" itemprop="datePublished">2016-03-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      我的 Android 开发实战经验总结
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>以前一直想写一篇总结 Android 开发经验的文章，估计当时的我还达不到某种水平，所以思路跟不上，下笔又捉襟见肘。近日，思路较为明朗，于是重新操起键盘开始码字一番。<strong>先声明一下哈，本人不是大厂的程序猿。去年毕业前，就一直在当前创业小团队从事自己热爱的打码事业至今。下面总结是建立在我当前的技术水平和认知上写的，如有不同看法欢迎留下评论互相交流。</strong></p>
<a id="more"></a>
<h2 id="理解抽象，封装变化"><a href="#理解抽象，封装变化" class="headerlink" title="理解抽象，封装变化"></a>理解抽象，封装变化</h2><p>目前 Android 平台上绝大部分开发都是用着 Java ，而跟 Java 这样一门面向对象的语言打交道，不免要触碰到 <strong>抽象</strong> 和 <strong>封装</strong> 的概念。我身边接触过的一些开发者，有一部分还对这些概念停留在写一个抽象类、接口、或者一个方法（或抽象方法）。至于为什么，我不大清楚是他们表达不出来，还是不理解。下面我也不高谈阔论，直接举例子来解释我所理解的抽象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">//Activity 间使用 Intent 传递数据的两种写法 下面均是伪代码形式，请忽略一些细节</span></div><div class="line"></div><div class="line"><span class="comment">//写法一</span></div><div class="line"></div><div class="line"><span class="comment">//SrcActivity 传递数据给 DestActivity</span></div><div class="line">Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>,DestActivity.class);</div><div class="line">intent.putExtra(<span class="string">"param"</span>, <span class="string">"clock"</span>);</div><div class="line">SrcActivity.startActivity(intent);</div><div class="line"></div><div class="line"><span class="comment">//DestActivity 获取 SrcActivity 传递过来的数据</span></div><div class="line">String param = getIntent.getStringExtra(<span class="string">"param"</span>);</div><div class="line"></div><div class="line"><span class="comment">//写法二</span></div><div class="line"></div><div class="line"><span class="comment">//SrcActivity 传递数据给 DestActivity</span></div><div class="line">Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>,DestActivity.class);</div><div class="line">intent.putExtra(DestActivity.EXTRA_PARAM, <span class="string">"clock"</span>);</div><div class="line">SrcActivity.startActivity(intent);</div><div class="line"></div><div class="line"><span class="comment">//DestActivity 获取 SrcActivity 传递过来的数据</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String EXTRA_PARAM = <span class="string">"param"</span>;</div><div class="line">String param = getIntent.getStringExtra(EXTRA_PARAM);</div></pre></td></tr></table></figure>
<p>写法一，存在的问题是，如果 SrcActivity 和 DestActivity 哪个把 “param” 打错成 “para” 或者 “paran” ，传递的数据都无法成功接收到。而写法二则不会出现此类问题，因为两个 Activity 之间传递数据只需要知道 EXTRA_PARAM 变量即可，至于 EXTRA_PARAM 变量到底是  “param” 、 “para” 、”paran” 这一点并不需要关心，这就是一种对可能发生变化的地方进行抽象封装的体现，它所带来的好处就是降低手抖出错的概率，同时方便我们进行修改。</p>
<p>基于抽象和封装，Java 本身很多 API 在设计上就有这样的体现，如 Collections 中的很多排序方法：</p>
<p><img src="https://diycode.b0.upaiyun.com/photo/2017/2d544d9da3c559059c77cc582ea80368.png" alt=""></p>
<p>这些方法都是基于 List 这个抽象的列表接口进行排序，至于这是一个用什么样的数据结构实现 List（ArrayList 还是 LinkedList），排序方法本身并不关心。看，是不是体现了 JDK 的设计人员的一种抽象编程的思维，因为 List 的具体实现可能有千万种，如果每一类 List 都要写一套排序方法，估计要哭瞎了。</p>
<blockquote>
<p>小结：把容易出现变化的部分进行抽象，就是对变化的一种封装。</p>
</blockquote>
<h2 id="选好”车轮”"><a href="#选好”车轮”" class="headerlink" title="选好”车轮”"></a>选好”车轮”</h2><p>一个项目的开发，我们不可能一切从0做起，如果真是这样，那同样要哭瞎。因此，善于借用已经做好的 “车轮” 非常重要，如：</p>
<p>网络访问框架：okhttp、retrofit、android-async-http、volley<br>图片加载框架：Android-Universal-Image-Loader、Glide、Fresco、Picasso<br>缓存框架：DiskLruCache、 Robospice<br>Json解析框架：Gson、Fastjson、Jackson<br>事件总线：EventBus、Otto<br>ORM框架：GreenDAO、Litepal<br>还有其他各种各样开源的自定义控件、动画等。除了以上提到的开源框架，也包括一些不开源的SDK<br>数据统计：友盟统计，百度统计…<br>奔溃搜集：腾讯bugly、bugtags…<br>云存储：七牛…<br>即使通讯：环信、融云、阿里百川…<br>推送：小米推送、腾讯推送、百度推送…<br>安全加固：360加固宝、爱加密…</p>
<p>一般情况下，我在选择是否引入一些开源框架主要基于以下几个因素：</p>
<ul>
<li>借助搜索引擎，如果网上有一大波资料，说明使用的人多，出了问题好找解决方案；当然，如果普遍出现差评，就可以直接Pass掉了</li>
<li>看框架的作者或团队，如 <a href="https://github.com/JakeWharton" target="_blank" rel="external">JakeWharton大神</a>、<a href="https://code.facebook.com/" target="_blank" rel="external">Facebook团队</a>等。大神和大公司出品的框架质量相对较高，可保证后续的维护和bug修复，不容易烂尾；</li>
<li>关注开源项目的 commit密度，issue的提交、回复、关闭数量，watch数，start数，fork数等。像那种个基本不怎么提交代码、提issue又不怎么回复和修复的项目，最好就pass掉；</li>
</ul>
<p>针对不开源SDK的选择，也主要基于以下几点去考虑：</p>
<ul>
<li>借助搜索引擎，查明口碑；</li>
<li>很多第三方SDK的官网首页都会告诉你，多少应用已经接入了此SDK，如果你看到有不少知名应用在上面，那这个SDK可以考虑尝试一下了。诸如，友盟官网：</li>
</ul>
<p><img src="https://diycode.b0.upaiyun.com/photo/2017/8dc12d016ca477e99d3f953acb22017f.png" alt=""></p>
<ul>
<li>查看SDK使用文档、它们的开发者社区、联系客服。好的SDK，使用文档肯定会详细指引你。出了问题，上开发者社区提问，他们的开发工程师也会社区上回答。实在不行只能联系客服，如果客服的态度都让你不爽，那就可以考虑换别家的SDK了。</li>
</ul>
<blockquote>
<p>小结：选好 “车轮” ，事半功倍</p>
</blockquote>
<h2 id="抽象依赖第三方框架"><a href="#抽象依赖第三方框架" class="headerlink" title="抽象依赖第三方框架"></a>抽象依赖第三方框架</h2><p>为什么要抽象依赖于第三方框架呢？这里和第1点是互相照应的，就是降低我们对具体某个框架的依赖性，从而方便我们快速切换到不同的框架去。说到这里，你可能觉得很抽象，那我直接举一个加载图片的例子好了。</p>
<p>假设你当前为项目引入一个加载图片的框架 —— Android-Universal-Image-Loader，最简单的做法就是加入相应的依赖包后，在任何需要加载图片的地方写上下面这样的代码段。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">ImageLoader imageLoader = ImageLoader.getInstance(); <span class="comment">// Get singleton instance</span></div><div class="line"><span class="comment">// Load image, decode it to Bitmap and display Bitmap in ImageView (or any other view </span></div><div class="line"><span class="comment">//  which implements ImageAware interface)</span></div><div class="line">imageLoader.displayImage(imageUri, imageView);</div><div class="line"><span class="comment">// Load image, decode it to Bitmap and return Bitmap to callback</span></div><div class="line">imageLoader.loadImage(imageUri, <span class="keyword">new</span> SimpleImageLoadingListener() &#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onLoadingComplete</span><span class="params">(String imageUri, View view, Bitmap loadedImage)</span> </span>&#123;</div><div class="line">        <span class="comment">// Do whatever you want with Bitmap</span></div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>这种做法最简单粗暴，但是带来的问题也最严重的。如果我有几十上百个地方都这么写，而在某一天，我听说Facebook出了个神器 Fresco，想要换掉 Android-Universal-Image-Loader ，你就会发现你需要丧心病狂的去改动几十上百个地方的代码，不仅工作量大，而且还容易出错。造成这样的原因，就在于项目和加载图片的框架之间形成了<strong>强耦合</strong>，而实际上，项目本身不应该知道我具体用了哪个加载图片的框架。</p>
<p>正确的方式，应该是对框架做一个抽象的封装，以应对未来发生的变化，我直接举自己的开源项目 <a href="https://github.com/D-clock/AndroidAlbum" target="_blank" rel="external">AndroidAlbum</a> 中的一种封装做法好了。</p>
<p><img src="https://diycode.b0.upaiyun.com/photo/2017/c8b3337006df760a175639bf78eaf971.png" alt=""></p>
<p>大致代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//1、声明 ImageLoaderWrapper 接口，定义一些抽象的加载接口方法</span></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ImageLoaderWrapper</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 显示 图片</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> imageView 显示图片的ImageView</div><div class="line">     * <span class="doctag">@param</span> imageFile 图片文件</div><div class="line">     * <span class="doctag">@param</span> option    显示参数设置</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">displayImage</span><span class="params">(ImageView imageView, File imageFile, DisplayOption option)</span></span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 显示图片</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> imageView 显示图片的ImageView</div><div class="line">     * <span class="doctag">@param</span> imageUrl  图片资源的URL</div><div class="line">     * <span class="doctag">@param</span> option    显示参数设置</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">displayImage</span><span class="params">(ImageView imageView, String imageUrl, DisplayOption option)</span></span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 图片加载参数</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DisplayOption</span> </span>&#123;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 加载中的资源id</div><div class="line">         */</div><div class="line">        <span class="keyword">public</span> <span class="keyword">int</span> loadingResId;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 加载失败的资源id</div><div class="line">         */</div><div class="line">        <span class="keyword">public</span> <span class="keyword">int</span> loadErrorResId;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 2、将 UniversalAndroidImageLoader 封装成继承 ImageLoaderWrapper 接口的 UniversalAndroidImageLoader ，</span></div><div class="line"><span class="comment">//这里代码有点长，感兴趣可以查看项目源码中的实现 https://github.com/D-clock/AndroidAlbum</span></div><div class="line"></div><div class="line"><span class="comment">// 3、做一个ImageLoaderFactory</span></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImageLoaderFactory</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ImageLoaderWrapper sInstance;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ImageLoaderFactory</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取图片加载器</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ImageLoaderWrapper <span class="title">getLoader</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (sInstance == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">synchronized</span> (ImageLoaderFactory.class) &#123;</div><div class="line">                <span class="keyword">if</span> (sInstance == <span class="keyword">null</span>) &#123;</div><div class="line">                    sInstance = <span class="keyword">new</span> UniversalAndroidImageLoader();<span class="comment">//&lt;link&gt;https://github.com/nostra13/Android-Universal-Image-Loader&lt;/link&gt;</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sInstance;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//4、在所有需要加载图片的地方作如下的调用</span></div><div class="line"></div><div class="line">ImageLoaderWrapper loaderWrapper = ImageLoaderFactory.getLoader();</div><div class="line">ImageLoaderWrapper.DisplayOption displayOption = <span class="keyword">new</span> ImageLoaderWrapper.DisplayOption();</div><div class="line">displayOption.loadingResId = R.mipmap.img_default;</div><div class="line">displayOption.loadErrorResId = R.mipmap.img_error;</div><div class="line">loaderWrapper.displayImage(imagview, url, displayOption);</div></pre></td></tr></table></figure>
<p>这样一来，切换框架所带来的代价就会变得很小，这就是不直接依赖于框架所带来的好处。当然，以上只是我比较简单的封装，你也可以进行更加细致的处理。</p>
<blockquote>
<p>小结：预留变更，不强耦合于第三方框架</p>
</blockquote>
<h2 id="从-MVC-到-MVP"><a href="#从-MVC-到-MVP" class="headerlink" title="从 MVC 到 MVP"></a>从 MVC 到 MVP</h2><p>说实话，在没接触 MVP 的架构之前，一直都是使用 MVC 的模式进行开发。而随着项目越来越大，Activity或者 Fragment里面代码越来越臃肿，看的时候想吐，改的时候想屎…这里撇开其他各种各样的架构不谈，只对比MVC 和 MVP 。</p>
<p><img src="https://diycode.b0.upaiyun.com/photo/2017/f0145c8fcf17c215e684eba260503ee8.png" alt=""></p>
<ul>
<li>View：布局的xml文件</li>
<li>Controller：Activity、Fragment、Dialog等</li>
<li>Model:相关的业务操作处理数据（如对数据库的操作、对网络等的操作都应该在Model层里）</li>
</ul>
<p>你会发现，如果 View 层只包含了xml文件，那我们 Android 项目中对 View 层可做操作的程度并不大，顶多就是用include复用一下布局。而 Activity 等简直就是一个奇葩，它虽然归属于 Controller 层，但实际上也干着 View 层的活（View 的初始化和相关操作都是在Activity中）。就是这种既是 View 又是 Controller 的结构，违背了单一责任原则，也使得 Activity 等出现了上述的臃肿问题。</p>
<p><img src="https://diycode.b0.upaiyun.com/photo/2017/535eb7e70d645460beffd595ae310079.png" alt=""></p>
<ul>
<li>View：Activity、Fragment、Dialog、Adapter等，该层不包含任何业务逻辑</li>
<li>Presenter：中介，View 与 Model 不发生联系，都通过 Presenter 传递</li>
<li>Model:相关的业务操作处理数据（如对数据库的操作、对网络等的操作都应该在Model层里）</li>
</ul>
<p>相比 MVC，MVP在层次划分上更加清晰了，不会出现一人身兼二职的情况（有些单元测试的童鞋，会发现单元测试用例更好写了）。在此处你可以看到 View 和 Model 之间是互不知道对方存在的，这样应对变更的好处更大，很多时候都是 View 层的变化，而 Model 层发生的变化会相对较少，遵循 MVP 的结构开发后，改起来代码来也没那么蛋疼。<br>这里也有地方需要注意，因为大量的交互操作集中在 Presenter 层中，所以需要把握好 Presenter 的粒度，一个 Activity 可以持有多个 View 和 Presenter，这样也就可以避开一个硕大的 View 和 Presenter 的问题了。</p>
<p>推荐两个不错的 MVP 架构的项目给大家，还不明白的童鞋，可以自行体会一下其设计思想：</p>
<p><a href="https://github.com/pedrovgs/EffectiveAndroidUI" target="_blank" rel="external">https://github.com/pedrovgs/EffectiveAndroidUI</a><br><a href="https://github.com/antoniolg/androidmvp" target="_blank" rel="external">https://github.com/antoniolg/androidmvp</a></p>
<blockquote>
<p>小结：去加以实践的理解 MVP 吧</p>
</blockquote>
<h2 id="归档代码"><a href="#归档代码" class="headerlink" title="归档代码"></a>归档代码</h2><p>把一些常用的工具类或业务流程代码进行归类整理，加入自己的代码库（还没有自己个人代码仓库的童鞋可以考虑建一个了）。如加解密、拍照、裁剪图片、获取系统所有图片的路径、自定义的控件或动画以及其其他他一些常用的工具类等。归档有助于提高你的开发效率，在遇到新项目的时候随手即可引入使用。如果你想要更好的维护自己的代码库，<strong>不妨在不泄露公司机密的前提下，把这个私人代码库加上详细文档给开源出去。</strong> 这样能够吸引更多开发者来使用这些代码，也可以获得相应的bug反馈，以便于着手定位修复问题，增强这个仓库代码的稳定性。</p>
<blockquote>
<p>小结：合理归档代码，可以的话，加以开源维护</p>
</blockquote>
<h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><p>关于性能优化的问题，大体都还是关注那几个方面：内存、CPU、耗电、卡顿、渲染、进程存活率等。对于这些地方的性能优化思路和分析方法，网络上已经有很多答案了，此处不做赘述。我只想说以下几点：</p>
<ul>
<li>不要过早的做性能优化，app先求能用再求好用。在需求都还没完成的时候把大量时间花在优化上是本末倒置的；</li>
<li>优化要用实际数据说话，借助测试工具进行检测（如：网易的Emmagee、腾讯的GT和APT，科大讯飞的iTest，Google的Battery Historian）。毕竟老板问你比以前耗电降低多少，总不能回答降低了一些吧???</li>
<li>任何不以减低性能损耗来做保活的手段，都是耍流氓。</li>
</ul>
<blockquote>
<p>小结：合理优化，数据量化</p>
</blockquote>
<h2 id="实践新技术"><a href="#实践新技术" class="headerlink" title="实践新技术"></a>实践新技术</h2><p>Rxjava、React Native、Kotlin…开始兴起后，身边有很多开发者会跟风直上。学习新技术的精神是非常值得鼓励的，但没有经过一段时间实践观察，就擅自把新技术引入到商业项目中，则有失妥当。对于大公司的团队来说，会有专门团队或项目去研究这些新兴技术，以确定是否在自己的产品线开发中引入。但作为小公司，是不是就意味着没有实践尝试新技术的机会呢？并不是！个人有以下几点建议：</p>
<ul>
<li>借助搜索引擎。看此项技术坑多不多，口碑不错但是坑多的话，则说明当前技术不成熟，可以耐心等待更新；</li>
<li>考虑学习成本。学习成本太大且不容易招到懂这方面的开发者的情况下，建议不要引入该技术；</li>
<li>高仿一个项目并开源。如果你想引入 React Native 做商业开发，最好先高仿实现一个应用然后将其开源。这样一些对 RN 感兴趣的开发者会运行你的代码并反馈 bug 给你，有助于你知道一些新技术的坑，并寻找相应的解决方案，最终确定是否引入该技术；</li>
<li>降低入门门槛。实践新技术的过程尽量加以详细的文档记录，这会有助于降低项目组其他同事对新技术的入门门槛，可以的话，也将学习文档开源，获得更多开发者对此份文档的反馈，也可纠正一些文档中的错误；</li>
<li>结合实际业务。所有新技术的引入都要考虑是否符合当下的业务需求，我听过有些程序猿想引入新技术的原因是因为觉得这种技术很酷，网上说很好用，很啥啥啥…自己完全没弄过就人云亦云。有时候好无语，感觉在会用一些技术就像在炫技一样；</li>
</ul>
<blockquote>
<p>小结：空谈误国，实干兴邦</p>
</blockquote>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p>UML，驯服代码和了解项目结构的利器，本人也在学习和体验其好处的路途上。不管遇到大小项目，有了它，可以更好的理清一些脉络结构。对付旧的庞大项目代码，或者有志阅读某些开源项目代码的开发者，绝对是居家必备。</p>
<blockquote>
<p>小结：工欲善其事，必先利其器</p>
</blockquote>
<h2 id="自造”车轮”"><a href="#自造”车轮”" class="headerlink" title="自造”车轮”"></a>自造”车轮”</h2><p>前面 2 提到，项目不可能从0开始，是需要引入很多第三方框架的。这里并不与 2 互相违背，而是建议有想提高技术逼格的开发者，可以在空暇时间去编码实现一个框架。如果你对网络访问、图片加载方面很有研究见解，不妨把这些脑海里的思想落实成具体的代码。也许你会发现，你动手去实践的时候，考虑的东西会多得多，自己最终得到的也会更多。（<strong>特别建议那些看过很多开源代码，又至今未自己动手自撸一发的</strong>）</p>
<blockquote>
<p>小结：不要停留在 api 调用的层面</p>
</blockquote>
<h2 id="扩大技术圈"><a href="#扩大技术圈" class="headerlink" title="扩大技术圈"></a>扩大技术圈</h2><p>有空又经济能力承受得起的时候，不妨去参加一些自己感兴趣的技术交流会。很多都有大牛上台演讲，听听人家的解决方案，拓宽一下自己看问题的思路，也可以多参加一些含金量高的线上活动。我有挺多开发者朋友，就是参加活动的时候认识的，有时候遇到一些技术问题，还会互相探讨交换一下解决思路。挺赞的！</p>
<blockquote>
<p>小结：拓宽技术视野</p>
</blockquote>
<h2 id="写博客总结"><a href="#写博客总结" class="headerlink" title="写博客总结"></a>写博客总结</h2><p>这个可能没什么好说的，大家看了标题就懂了。它最大的好处在于：</p>
<ul>
<li>系统化记录自己的解决方案；</li>
<li>方便日后自己回顾；</li>
<li>有问题也会有读者评论反馈，促进技术交流；</li>
<li>增强自己书面表达能力；</li>
</ul>
<blockquote>
<p>小结：认真总结，不断完善</p>
</blockquote>
<h2 id="找个对象"><a href="#找个对象" class="headerlink" title="找个对象"></a>找个对象</h2><p>程序猿不要老是对着电脑，赶紧找个对象提升一下幸福感。据说幸福感高的程序猿，编码效率高，出bug几率小…</p>
<blockquote>
<p>总结：做个面向对象的程序员</p>
</blockquote>
<p>大概就想到这些了，以后要是再有想写的，另开新篇。絮絮叨叨写了这么多，最关键的还是自己要落实，千万不要听说过太多道理，却依然过不好这一生哈！！！！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.coderclock.com/2016/03/27/我的 Android 开发实战经验总结/" data-id="cizh6l6y6000a1cetnjer9n3b" class="article-share-link">分享</a>
      
        <a href="http://blog.coderclock.com/2016/03/27/我的 Android 开发实战经验总结/#ds-thread" class="article-comment-link">留言</a>
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/架构/">架构</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/经验总结/">经验总结</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/编码规范/">编码规范</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/04/17/关于 Android 进程保活，你所需要知道的一切/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          关于 Android 进程保活，你所需要知道的一切
        
      </div>
    </a>
  
  
    <a href="/2016/02/28/Android开发：最详细的 NavigationDrawer 开发实践总结 /" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">Android开发：最详细的 NavigationDrawer 开发实践总结</div>
    </a>
  
</nav>

  
</article>

      <div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="2016/03/27/我的 Android 开发实战经验总结/" data-title="我的 Android 开发实战经验总结" data-url="http://blog.coderclock.com/2016/03/27/我的 Android 开发实战经验总结/"></div>
	<!-- 多说评论框 end -->
</div>


</section>
           
    <aside id="sidebar">
  
    

  
    
  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">文章目录</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#理解抽象，封装变化"><span class="toc-number">1.</span> <span class="toc-text">理解抽象，封装变化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#选好”车轮”"><span class="toc-number">2.</span> <span class="toc-text">选好”车轮”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#抽象依赖第三方框架"><span class="toc-number">3.</span> <span class="toc-text">抽象依赖第三方框架</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#从-MVC-到-MVP"><span class="toc-number">4.</span> <span class="toc-text">从 MVC 到 MVP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#归档代码"><span class="toc-number">5.</span> <span class="toc-text">归档代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#性能优化"><span class="toc-number">6.</span> <span class="toc-text">性能优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实践新技术"><span class="toc-number">7.</span> <span class="toc-text">实践新技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UML"><span class="toc-number">8.</span> <span class="toc-text">UML</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自造”车轮”"><span class="toc-number">9.</span> <span class="toc-text">自造”车轮”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#扩大技术圈"><span class="toc-number">10.</span> <span class="toc-text">扩大技术圈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#写博客总结"><span class="toc-number">11.</span> <span class="toc-text">写博客总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#找个对象"><span class="toc-number">12.</span> <span class="toc-text">找个对象</span></a></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    


  
    

  
    

  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2017 D_clock爱吃葱花&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;d_clock@qq.com
    </div>
  </div>
</footer>
 <script src="/jquery/jquery.min.js"></script>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
    


    	<script type="text/javascript">
        var duoshuoQuery = {short_name:"clockblog"};
      </script>
      <script src="/duoshuo/embed.js"></script>


 <script src="/js/is.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/elevator.js"></script>
  </div>
</body>
</html>